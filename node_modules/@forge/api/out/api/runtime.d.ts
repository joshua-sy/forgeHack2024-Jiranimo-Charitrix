import type { Metrics, Tags } from '@forge/util/packages/metrics-interface';
import { AppAri, EnvironmentAri, InstallationAri } from './ari';
export declare type ProxyInfo = {
    token: string;
    url: string;
    host?: string;
};
export declare type ExternalAuthMetaDataAccount = {
    id: string;
    externalAccountId: string;
    displayName: string;
    scopes: string[];
    avatarUrl?: string;
};
export declare type ExternalAuthMetaData = {
    service: string;
    remotes: {
        baseUrl: string;
        key: string;
    }[];
    accounts: ExternalAuthMetaDataAccount[];
};
export declare type ForgeRuntime = {
    proxy: ProxyInfo;
    contextAri: string;
    container: {
        region?: string;
        runtime?: string;
        handler?: string;
    };
    appContext: {
        appId: string;
        appVersion: string;
        environmentId: string;
        environmentType: string;
        invocationId: string;
        installationId: string;
        functionKey: string;
        moduleType: string;
        moduleKey: string;
    };
    aaid?: string;
    allowedEgress: string[];
    lambdaContext: {
        awsRequestId: string;
    };
    tracing: {
        traceId: string;
        spanId: string;
    };
    metrics: Metrics;
    rms?: {
        url: string;
        host: string;
    };
    externalAuth?: ExternalAuthMetaData[];
    featureFlags: (flag: string) => boolean;
};
export declare type AppContext = {
    appAri: AppAri;
    appVersion: string;
    environmentAri: EnvironmentAri;
    environmentType: string;
    invocationId: string;
    installationAri: InstallationAri;
    moduleKey: string;
};
export declare function __getRuntime(): ForgeRuntime;
export declare function getAppContext(): AppContext;
export declare function wrapInMetrics<Args extends unknown[], Ret>(name: string, fn: (...args: Args) => Promise<Ret>, { tags }?: {
    tags?: Tags;
}): (...args: Args) => Promise<Ret>;
//# sourceMappingURL=runtime.d.ts.map