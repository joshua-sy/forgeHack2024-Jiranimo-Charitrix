"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addConfig = exports.create = void 0;
const tslib_1 = require("tslib");
const React = tslib_1.__importStar(require("react"));
const reconciler_1 = require("../reconciler");
// NOTE: This only works with React 18
// eslint-disable-next-line @typescript-eslint/no-explicit-any
const _act = React.unstable_act;
const act = _act;
const create = async (element) => {
    await act(async () => reconciler_1.ForgeReconciler.render(element));
    return {
        async update(newElement) {
            await act(async () => reconciler_1.ForgeReconciler.render(newElement));
        }
    };
};
exports.create = create;
const addConfig = async (element) => {
    await act(async () => reconciler_1.ForgeReconciler.addConfig(element));
    return {
        async update(newElement) {
            await act(async () => reconciler_1.ForgeReconciler.addConfig(newElement));
        }
    };
};
exports.addConfig = addConfig;
exports.default = { create: exports.create, act, addConfig: exports.addConfig };
