"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useSpaceProperty = void 0;
const react_1 = require("react");
const confluenceEntity_1 = require("./confluenceEntity");
const useEntityProperty_1 = require("./useEntityProperty");
/**
 * This function manages the space properties of a Confluence space where the app is installed.
 * @param propertyKey Name (key) of the property
 * @param initValue Default value if it did not exist previously
 * @returns An array with 3 items:
 *  1. Current value of the property.
 *  2. A function to update the property value (with another value or an updater function). If an initial update fails, it automatically tries to update for another <retryCount> times (default 2).
 * 3. A function to delete the property.
 */
const useSpaceProperty = (propertyKey, initValue) => {
    const entityManager = (0, react_1.useMemo)(() => (0, confluenceEntity_1.confluenceEntity)({
        entityType: 'Space',
        origPropertyKey: propertyKey,
        initValue
    }), []);
    return (0, useEntityProperty_1.useEntityProperty)({ entityManager });
};
exports.useSpaceProperty = useSpaceProperty;
