"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@emotion/react");
var _colors = require("@atlaskit/theme/colors");
/**
 * @jsxRuntime classic
 */
/** @jsx jsx */

// eslint-disable-next-line @atlaskit/ui-styling-standard/use-compiled -- Ignored via go/DSP-18766

var MIN_VALUE = 0;
var MAX_VALUE = 1;
var increasingBarAnimation = (0, _react2.keyframes)({
  from: {
    left: '-5%',
    width: '5%'
  },
  to: {
    left: '130%',
    width: ' 100%'
  }
});
var decreasingBarAnimation = (0, _react2.keyframes)({
  from: {
    left: '-80%',
    width: '80%'
  },
  to: {
    left: '110%',
    width: '10%'
  }
});
var containerStyles = (0, _react2.css)({
  width: "100%",
  height: 6,
  position: 'relative',
  background: "var(--ds-background-neutral, ".concat(_colors.N40A, ")"),
  borderRadius: "var(--ds-border-radius, 3px)",
  overflow: 'hidden'
});
var containerAppearance = {
  default: (0, _react2.css)({
    background: "var(--ds-background-neutral, ".concat(_colors.N40A, ")")
  }),
  success: (0, _react2.css)({
    background: "var(--ds-background-neutral, ".concat(_colors.N40A, ")")
  }),
  inverse: (0, _react2.css)({
    background: "var(--ds-background-inverse-subtle, rgba(255, 255, 255, 0.5))"
  })
};
var barAppearance = {
  default: (0, _react2.css)({
    background: "var(--ds-background-neutral-bold, ".concat(_colors.N500, ")")
  }),
  success: (0, _react2.css)({
    background: "var(--ds-background-success-bold, ".concat(_colors.G300, ")")
  }),
  inverse: (0, _react2.css)({
    background: "var(--ds-surface, white)"
  })
};
var barStyles = (0, _react2.css)({
  display: 'block',
  height: 6,
  position: 'absolute',
  borderRadius: "var(--ds-border-radius, 3px)"
});
var determinateBarStyles = (0, _react2.css)({
  transition: 'width 0.2s'
});
var increasingBarStyles = (0, _react2.css)({
  animation: "".concat(increasingBarAnimation, " 2s infinite")
});
var decreasingBarStyles = (0, _react2.css)({
  animation: "".concat(decreasingBarAnimation, " 2s 0.5s infinite")
});

/**
 * __Progress bar__
 *
 * A progress bar displays the status of a given process.
 *
 * - [Examples](https://atlassian.design/components/progress-bar/examples)
 * - [Code](https://atlassian.design/components/progress-bar/code)
 * - [Usage](https://atlassian.design/components/progress-bar/usage)
 */
var ProgressBar = function ProgressBar(_ref) {
  var _ref$appearance = _ref.appearance,
    appearance = _ref$appearance === void 0 ? 'default' : _ref$appearance,
    ariaLabel = _ref.ariaLabel,
    _ref$isIndeterminate = _ref.isIndeterminate,
    isIndeterminate = _ref$isIndeterminate === void 0 ? false : _ref$isIndeterminate,
    _ref$testId = _ref.testId,
    testId = _ref$testId === void 0 ? 'progress-bar' : _ref$testId,
    _ref$value = _ref.value,
    value = _ref$value === void 0 ? 0 : _ref$value;
  var valueParsed = isIndeterminate ? MIN_VALUE : Math.max(MIN_VALUE, Math.min(value, MAX_VALUE));
  return (0, _react2.jsx)("div", {
    css: [containerStyles, containerAppearance[appearance]],
    role: "progressbar",
    "aria-label": ariaLabel,
    "aria-valuemin": MIN_VALUE,
    "aria-valuenow": valueParsed,
    "aria-valuemax": MAX_VALUE,
    tabIndex: 0,
    "data-testid": testId
  }, isIndeterminate ? (0, _react2.jsx)(_react.default.Fragment, null, (0, _react2.jsx)("span", {
    css: [barStyles, barAppearance[appearance], increasingBarStyles]
  }), (0, _react2.jsx)("span", {
    css: [barStyles, barAppearance[appearance], decreasingBarStyles]
  })) : (0, _react2.jsx)("span", {
    style: {
      width: "".concat(Number(value) * 100, "%")
    },
    css: [barStyles, barAppearance[appearance], determinateBarStyles]
  }));
};
var _default = exports.default = ProgressBar;