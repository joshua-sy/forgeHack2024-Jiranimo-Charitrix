"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SplitButtonWithSlots = exports.SplitButtonContainer = exports.SplitButton = exports.Divider = void 0;
var _react = require("@emotion/react");
var _platformFeatureFlags = require("@atlaskit/platform-feature-flags");
var _splitButtonContext = require("./split-button-context");
var _utils = require("./utils");
/**
 * @jsxRuntime classic
 */
/** @jsx jsx */

// eslint-disable-next-line @atlaskit/ui-styling-standard/use-compiled -- Ignored via go/DSP-18766

var heights = {
  default: "".concat(32 / 14, "em"),
  compact: "".concat(24 / 14, "em"),
  none: 'auto'
};
var baseDividerStyles = (0, _react.css)({
  display: 'inline-flex',
  width: "var(--ds-border-width, 1px)",
  position: 'relative',
  zIndex: 2
});
var defaultDividerStyles = (0, _react.css)({
  // eslint-disable-next-line @atlaskit/ui-styling-standard/no-unsafe-values -- Ignored via go/DSP-18766
  height: heights.default
});
var compactDividerStyles = (0, _react.css)({
  // eslint-disable-next-line @atlaskit/ui-styling-standard/no-unsafe-values -- Ignored via go/DSP-18766
  height: heights.compact
});
var dividerDisabledStyles = (0, _react.css)({
  backgroundColor: "var(--ds-text-disabled, #091E4224)",
  cursor: 'not-allowed'
});
var navigationDividerStyles = (0, _react.css)({
  height: '16px',
  margin: "var(--ds-space-100, 8px)".concat(" -0.5px"),
  backgroundColor: "var(--ds-text-subtle, #0052cc)",
  opacity: 0.62
});
var dividerAppearance = {
  default: (0, _react.css)({
    backgroundColor: "var(--ds-text, #172B4D)",
    opacity: 0.51
  }),
  primary: (0, _react.css)({
    backgroundColor: "var(--ds-text-inverse, #FFF)",
    opacity: 0.64
  }),
  navigation: navigationDividerStyles
};
var dividerRefreshedOffsetStyles = (0, _react.css)({
  marginInline: "calc(0px - ".concat("var(--ds-border-width, 1px)", ")")
});
var dividerHeight = {
  default: defaultDividerStyles,
  compact: compactDividerStyles
};
/**
 * TODO: Add JSDoc
 */
var Divider = exports.Divider = function Divider(_ref) {
  var appearance = _ref.appearance,
    spacing = _ref.spacing,
    _ref$isDisabled = _ref.isDisabled,
    isDisabled = _ref$isDisabled === void 0 ? false : _ref$isDisabled;
  return (
    // I find it funny to provide a div for Divider
    (0, _react.jsx)("div", {
      css: [baseDividerStyles, dividerHeight[spacing], dividerAppearance[appearance], isDisabled ? dividerDisabledStyles : undefined, (0, _platformFeatureFlags.getBooleanFF)('platform.design-system-team.component-visual-refresh_t8zbo') && dividerRefreshedOffsetStyles]
    })
  );
};
var splitButtonStyles = (0, _react.css)({
  display: 'inline-flex',
  position: 'relative',
  alignItems: 'center',
  whiteSpace: 'nowrap'
});
var primaryButtonStyles = (0, _react.css)({
  // eslint-disable-next-line @atlaskit/design-system/no-nested-styles, @atlaskit/ui-styling-standard/no-nested-selectors -- Ignored via go/DSP-18766
  'button,a': {
    borderEndEndRadius: 0,
    borderStartEndRadius: 0
  }
});
var secondaryButtonStyles = (0, _react.css)({
  // eslint-disable-next-line @atlaskit/design-system/no-nested-styles, @atlaskit/ui-styling-standard/no-nested-selectors -- Ignored via go/DSP-18766
  'button,a': {
    borderEndStartRadius: 0,
    borderStartStartRadius: 0
  }
});
var defaultAppearanceContainerStyles = (0, _react.css)({
  borderRadius: "var(--ds-border-radius, 3px)",
  outlineColor: "var(--ds-border, #091E4224)",
  outlineOffset: "calc(0px - ".concat("var(--ds-border-width, 1px)", ")"),
  outlineStyle: 'solid',
  outlineWidth: "var(--ds-border-width, 1px)"
});

/**
 * TODO: Add JSdoc
 */
var SplitButtonContainer = exports.SplitButtonContainer = function SplitButtonContainer(_ref2) {
  var appearance = _ref2.appearance,
    children = _ref2.children;
  return (0, _react.jsx)("div", {
    css: [(0, _platformFeatureFlags.getBooleanFF)('platform.design-system-team.component-visual-refresh_t8zbo') && appearance === 'default' && defaultAppearanceContainerStyles, splitButtonStyles]
  }, children);
};

/**
 * __Split Button__
 *
 * A split button lets people perform an action or choose from a small group of similar actions.
 *
 * - [Examples](https://atlassian.design/components/button/split-button/examples)
 * - [Code](https://atlassian.design/components/button/split-button/code)
 * - [Usage](https://atlassian.design/components/button/split-button/usage)
 */
var SplitButton = exports.SplitButton = function SplitButton(_ref3) {
  var children = _ref3.children,
    _ref3$appearance = _ref3.appearance,
    appearance = _ref3$appearance === void 0 ? 'default' : _ref3$appearance,
    _ref3$spacing = _ref3.spacing,
    spacing = _ref3$spacing === void 0 ? 'default' : _ref3$spacing,
    _ref3$isDisabled = _ref3.isDisabled,
    isDisabled = _ref3$isDisabled === void 0 ? false : _ref3$isDisabled;
  var _getActions = (0, _utils.getActions)(children),
    PrimaryAction = _getActions.PrimaryAction,
    SecondaryAction = _getActions.SecondaryAction;
  return (0, _react.jsx)(SplitButtonContainer, {
    appearance: appearance
  }, (0, _react.jsx)(_splitButtonContext.SplitButtonContext.Provider, {
    value: {
      appearance: appearance,
      spacing: spacing,
      isDisabled: isDisabled
    }
  }, (0, _react.jsx)("div", {
    css: primaryButtonStyles
  }, PrimaryAction), (0, _react.jsx)(Divider, {
    appearance: appearance,
    spacing: spacing,
    isDisabled: isDisabled
  }), (0, _react.jsx)("div", {
    css: secondaryButtonStyles
  }, SecondaryAction)));
};
/**
 * TODO: Decide on API
 */
var SplitButtonWithSlots = exports.SplitButtonWithSlots = function SplitButtonWithSlots(_ref4) {
  var primaryAction = _ref4.primaryAction,
    secondaryAction = _ref4.secondaryAction,
    _ref4$appearance = _ref4.appearance,
    appearance = _ref4$appearance === void 0 ? 'default' : _ref4$appearance,
    _ref4$spacing = _ref4.spacing,
    spacing = _ref4$spacing === void 0 ? 'default' : _ref4$spacing,
    _ref4$isDisabled = _ref4.isDisabled,
    isDisabled = _ref4$isDisabled === void 0 ? false : _ref4$isDisabled;
  return (0, _react.jsx)(SplitButtonContainer, {
    appearance: appearance
  }, (0, _react.jsx)(_splitButtonContext.SplitButtonContext.Provider, {
    value: {
      appearance: appearance,
      spacing: spacing,
      isDisabled: isDisabled
    }
  }, (0, _react.jsx)("div", {
    css: primaryButtonStyles
  }, primaryAction), (0, _react.jsx)(Divider, {
    appearance: appearance,
    spacing: spacing,
    isDisabled: isDisabled
  }), (0, _react.jsx)("div", {
    css: secondaryButtonStyles
  }, secondaryAction)));
};